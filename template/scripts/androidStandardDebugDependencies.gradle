apply from: '../config.gradle'
apply from: '../scripts/androidStandardModules.gradle'

// Скрипт для подключения модулей android-standard из локального репозитория для отладки

try {
    Properties properties = new Properties()
    properties.load(file('../local.properties').newDataInputStream())
    def androidStandardDebugDir = properties.getProperty('androidStandardDebug.dir')

    if (androidStandardDebugDir == null) {
        logger.error('androidStandardDebug.dir not defined. Please define it in local.properties file ' +
                'to enable android-standard debug mode.')
    } else {
        try {
            dependencies {
                gradle.ext.androidStandardModules.each {
                    api "$androidStandardDebugDir/$it"
                }
            }
        } catch (Throwable e) {
            logger.error(e.message)
        }
    }
} catch (Throwable ignored) {
    logger.error('local.properties file not found')
}
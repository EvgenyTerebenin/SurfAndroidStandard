[Главная](../main.md)

[TOC]

# Навигация

Навигация в наших приложениях построена не на использовании Intent'ов напрямую,
а на использовании т.н. "маршрутов" - *Route*, и навигаторов - *Navigator*.

Route - является оберткой над Intent(навигация по активити) или хранит
имя класса фрагмента(для навигации по фрагментам).
Для фрагментов и диалогов Route также является оберткой над Bundle.

Навигация между экранами должна происходить только из слоя Presenter.

Для навигации по приложению предусмотрены сущности `Navigator`(поставляются
модулями *[core-ui][core-ui], [mvp-dialog][dial]*). `Navigator` осуществляет
навигацию в соответствии с переданным ему объектом Route.

`Route` может быть использован и без навигатора: например, внутри `PagerAdapter`
для фрагментов он будет использован для создания фрагмента
```
    oneFragmentRoute().createFragment()
    twoFragmentRoute().createFragment()
```

Или для создания PendingIntent (например, при работе с Notification).

`Route`, кроме определения какой конкретно экран открывать, может быть
ответственен за:

-  упаковку данных в Intent (Bundle) для передачи аргументов в экран, диалог

-  распаковку данных из Intent (Bundle) переданных в экран, диалог

-  упаковку данных в Intent для передачи результата на предыдущий экран

-  распаковку данных результата выполнения экрана из Intent

-  упаковку неявного Intent для перхода в другое приложение


Для реализации навигации, необходимо реализовать класс-наследник одного из базовых
`Route`.

Более подробно [Основные Routes и Navigators][nav], [Навигаторы для диалогов][dial]

[core-ui]: ../../core-ui/README.md
[nav]: ../../core-ui/docs/navigation.md
[dial]: ../../mvp-dialog/README.md